<mxfile host="drawio-plugin" modified="2025-03-01T15:44:51.727Z" agent="5.0 (Windows NT 6.2; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5112.102 Safari/537.36" etag="6P8XDg26pTYh_h3wI0nI" version="20.5.3" type="embed"><diagram id="23iRSUPoRavnBvh4doch" name="Page-1"><mxGraphModel dx="2707" dy="1773" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1"><mxGeometry relative="1" as="geometry"><mxPoint x="-2025" y="-440" as="sourcePoint"/><mxPoint x="-1820" y="-440" as="targetPoint"/></mxGeometry></mxCell><mxCell id="3" value="User" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1"><mxGeometry x="-2060" y="-480" width="35" height="70" as="geometry"/></mxCell><mxCell id="4" value=":Frontend" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="-1820" y="-465" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="5" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-2000" y="-455" as="sourcePoint"/><mxPoint x="-1840" y="-455" as="targetPoint"/></mxGeometry></mxCell><mxCell id="6" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1850" y="-425" as="sourcePoint"/><mxPoint x="-2010" y="-425" as="targetPoint"/></mxGeometry></mxCell><mxCell id="7" value="&amp;nbsp;:Router" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="-1480" y="-465" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1" target="7"><mxGeometry relative="1" as="geometry"><mxPoint x="-1689.09" y="-445" as="sourcePoint"/><mxPoint x="-1484.09" y="-445" as="targetPoint"/></mxGeometry></mxCell><mxCell id="9" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1664.09" y="-460" as="sourcePoint"/><mxPoint x="-1504.09" y="-460" as="targetPoint"/></mxGeometry></mxCell><mxCell id="10" value="&amp;nbsp;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="-1580" y="-480" width="40" height="40" as="geometry"/></mxCell><mxCell id="11" value=":UserController&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="-1140" y="-465" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1" target="11"><mxGeometry relative="1" as="geometry"><mxPoint x="-1349.09" y="-445" as="sourcePoint"/><mxPoint x="-1144.09" y="-445" as="targetPoint"/></mxGeometry></mxCell><mxCell id="13" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1324.09" y="-460" as="sourcePoint"/><mxPoint x="-1164.09" y="-460" as="targetPoint"/></mxGeometry></mxCell><mxCell id="14" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1170" y="-430" as="sourcePoint"/><mxPoint x="-1330" y="-430" as="targetPoint"/></mxGeometry></mxCell><mxCell id="15" value=":UserService&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="-800" y="-465" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1" target="15"><mxGeometry relative="1" as="geometry"><mxPoint x="-1009.0899999999999" y="-445" as="sourcePoint"/><mxPoint x="-804.0899999999999" y="-445" as="targetPoint"/></mxGeometry></mxCell><mxCell id="17" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-984.0899999999999" y="-460" as="sourcePoint"/><mxPoint x="-824.0899999999999" y="-460" as="targetPoint"/></mxGeometry></mxCell><mxCell id="18" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-830" y="-430" as="sourcePoint"/><mxPoint x="-990" y="-430" as="targetPoint"/></mxGeometry></mxCell><mxCell id="19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;startFill=0;" edge="1" parent="1" source="20" target="30"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="20" value=":UserRepository" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="-459.99999999999994" y="-465" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1" target="20"><mxGeometry relative="1" as="geometry"><mxPoint x="-669.0899999999999" y="-445" as="sourcePoint"/><mxPoint x="-464.08999999999986" y="-445" as="targetPoint"/></mxGeometry></mxCell><mxCell id="22" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-644.0899999999999" y="-460" as="sourcePoint"/><mxPoint x="-484.0899999999997" y="-460" as="targetPoint"/></mxGeometry></mxCell><mxCell id="23" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-480" y="-430" as="sourcePoint"/><mxPoint x="-640" y="-430" as="targetPoint"/></mxGeometry></mxCell><mxCell id="24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1" source="25" target="7"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="25" value="&amp;nbsp;:Middleware" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="-1480" y="-190" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="26" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1430.09" y="-400" as="sourcePoint"/><mxPoint x="-1430" y="-200" as="targetPoint"/></mxGeometry></mxCell><mxCell id="27" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1400" y="-200" as="sourcePoint"/><mxPoint x="-1400" y="-400" as="targetPoint"/></mxGeometry></mxCell><mxCell id="28" value="4. GET/api/auth/google/signup" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1685" y="-495" width="190" height="30" as="geometry"/></mxCell><mxCell id="29" value="5. ตรวจสอบ session (Cookie/JWT)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1630" y="-260" width="200" height="30" as="geometry"/></mxCell><mxCell id="30" value="&amp;nbsp;:Database" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="80.00000000000006" y="-465" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="31" value="Create account with Google account" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" vertex="1" parent="1"><mxGeometry x="-1180" y="-580" width="345" height="30" as="geometry"/></mxCell><mxCell id="32" value="1. คลิก &quot;Sign Up&quot;&amp;nbsp;&lt;div&gt;3. คลิก &quot;Sign Up with Google&quot;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-2005" y="-500" width="180" height="40" as="geometry"/></mxCell><mxCell id="33" value="7. แสดงหน้า Login ของ Google" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-2260" y="-360" width="180" height="30" as="geometry"/></mxCell><mxCell id="34" value=":GoogleOAuthClient" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="-2107.96" y="-190" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;startFill=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="34"><mxGeometry relative="1" as="geometry"><mxPoint x="-1689.09" y="-170.52999999999997" as="sourcePoint"/><mxPoint x="-1480" y="-170.52999999999997" as="targetPoint"/></mxGeometry></mxCell><mxCell id="36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;startFill=0;" edge="1" parent="1"><mxGeometry relative="1" as="geometry"><mxPoint x="-2043.03" y="-190" as="sourcePoint"/><mxPoint x="-2043" y="-380" as="targetPoint"/><Array as="points"><mxPoint x="-2043.03" y="-300"/><mxPoint x="-2043.03" y="-300"/></Array></mxGeometry></mxCell><mxCell id="37" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1500" y="-180" as="sourcePoint"/><mxPoint x="-1960" y="-180" as="targetPoint"/></mxGeometry></mxCell><mxCell id="38" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1504.09" y="-430" as="sourcePoint"/><mxPoint x="-1664.09" y="-430" as="targetPoint"/></mxGeometry></mxCell><mxCell id="39" value="6. Redirect user ไปยัง Google OAuth URL(รวม state parameter)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1910" y="-215" width="360" height="30" as="geometry"/></mxCell><mxCell id="40" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-2060" y="-210" as="sourcePoint"/><mxPoint x="-2060" y="-380" as="targetPoint"/></mxGeometry></mxCell><mxCell id="41" value="8. เลือกบัญชี Google และล็อกอิน" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-2015" y="-360" width="190" height="30" as="geometry"/></mxCell><mxCell id="42" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-2026" y="-370" as="sourcePoint"/><mxPoint x="-2026.05" y="-210" as="targetPoint"/></mxGeometry></mxCell><mxCell id="43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;startFill=0;entryX=0.153;entryY=1.018;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="34" target="7"><mxGeometry relative="1" as="geometry"><mxPoint x="-1980" y="-210" as="sourcePoint"/><mxPoint x="-1460" y="-390" as="targetPoint"/><Array as="points"><mxPoint x="-2000" y="-290"/><mxPoint x="-1460" y="-290"/></Array></mxGeometry></mxCell><mxCell id="44" value="9. Redirect กลับมาพร้อม auth code และ state" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1805" y="-320" width="260" height="30" as="geometry"/></mxCell><mxCell id="45" value="10. รับ auth code (callback)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1320" y="-495" width="170" height="30" as="geometry"/></mxCell><mxCell id="46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;startFill=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="34" target="11"><mxGeometry relative="1" as="geometry"><mxPoint x="-1740" y="44" as="sourcePoint"/><mxPoint x="-1200" y="-190" as="targetPoint"/><Array as="points"><mxPoint x="-2043" y="-50"/><mxPoint x="-1074" y="-50"/></Array></mxGeometry></mxCell><mxCell id="47" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1080" y="-410" as="sourcePoint"/><mxPoint x="-2030" y="-140" as="targetPoint"/><Array as="points"><mxPoint x="-1080" y="-60"/><mxPoint x="-1570" y="-60"/><mxPoint x="-2030" y="-60"/></Array></mxGeometry></mxCell><mxCell id="48" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-2059.95" y="-140" as="sourcePoint"/><mxPoint x="-1060" y="-410" as="targetPoint"/><Array as="points"><mxPoint x="-2060" y="-40"/><mxPoint x="-1060" y="-40"/></Array></mxGeometry></mxCell><mxCell id="49" value="&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1725" y="-100" width="30" height="30" as="geometry"/></mxCell><mxCell id="50" value="11. Post/token ส่ง auth code, client_id, secret, redirect_url&lt;div&gt;13. GET /userinfo คืนค่า access token&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1875" y="-110" width="330" height="40" as="geometry"/></mxCell><mxCell id="51" value="12. คืนค่า access token (และ id_token)&lt;div&gt;14. คืนค่า user profile (GoogleID, Email. Name)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1845" y="-30" width="270" height="40" as="geometry"/></mxCell><mxCell id="52" value="15. ตรวจสอบว่ามีบัญชีอยู่หรือไม่" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-990" y="-495" width="180" height="30" as="geometry"/></mxCell><mxCell id="53" value="16. ค้นหาผู้ใช้ด้วย GoogleID&lt;div&gt;21. [ผู้ใช้ใหม่] สร้างบัญชีใหม่&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-645" y="-505" width="170" height="40" as="geometry"/></mxCell><mxCell id="54" value="17. SELECT id FROM users WHERE google_id = ?&lt;div&gt;22. INSERT INTO users (google_id, email, name) VALUES (?,?,?)&lt;/div&gt;&lt;div&gt;28. INSERT INTO users (google_id, email, name) VALUES (?,?,?)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-310" y="-520" width="370" height="60" as="geometry"/></mxCell><mxCell id="55" value="18. คืนค่า user record (ถ้ามี)&lt;div&gt;23. ยืนยันการ insert (เช่น afftected rows)&lt;/div&gt;&lt;div&gt;29. ยืนยันการ insert (เช่น affected rows)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-240" y="-430" width="230" height="60" as="geometry"/></mxCell><mxCell id="56" value="19. คืนค่าผู้ใช้ (ถ้ามี)&lt;div&gt;24. ส่งผลลัพธ์การ insert (User Created)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-675" y="-425" width="230" height="40" as="geometry"/></mxCell><mxCell id="57" value="20. [ผู้ใช้มีอยู่แล้ว] แจ้งว่า user มีอยู่แล้ว (ให้ redirect ไป login)&lt;div&gt;25. คืนค่า User Data (UserID, GoogleID, Email, Name)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1040" y="-420" width="330" height="40" as="geometry"/></mxCell><mxCell id="58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.193;entryY=0.962;entryDx=0;entryDy=0;endArrow=none;startFill=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="25"><mxGeometry relative="1" as="geometry"><mxPoint x="-1330" y="-168" as="sourcePoint"/><mxPoint x="-1117.8243699999996" y="-425" as="targetPoint"/></mxGeometry></mxCell><mxCell id="59" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1130" y="-410" as="sourcePoint"/><mxPoint x="-1340" y="-180" as="targetPoint"/><Array as="points"><mxPoint x="-1130" y="-180"/></Array></mxGeometry></mxCell><mxCell id="60" value="26. Generate Session Token&amp;nbsp;&lt;div&gt;สำหรับ UserID&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1300" y="-360" width="180" height="40" as="geometry"/></mxCell><mxCell id="61" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-309.99999999999994" y="-460.62" as="sourcePoint"/><mxPoint x="60" y="-460" as="targetPoint"/></mxGeometry></mxCell><mxCell id="62" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="50" y="-430" as="sourcePoint"/><mxPoint x="-310" y="-430" as="targetPoint"/></mxGeometry></mxCell><mxCell id="63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;endArrow=none;startFill=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="20"><mxGeometry relative="1" as="geometry"><mxPoint x="-1415.31" y="85" as="sourcePoint"/><mxPoint x="-1415.31" y="-150" as="targetPoint"/><Array as="points"><mxPoint x="-394" y="-100"/><mxPoint x="-1415" y="-100"/></Array></mxGeometry></mxCell><mxCell id="64" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1400" y="-140" as="sourcePoint"/><mxPoint x="-410" y="-400" as="targetPoint"/><Array as="points"><mxPoint x="-1400" y="-110"/><mxPoint x="-410" y="-110"/></Array></mxGeometry></mxCell><mxCell id="65" value="27. บันทึก session (ถ้าจำเป็น)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-780" y="-140" width="170" height="30" as="geometry"/></mxCell><mxCell id="66" value=" " style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-380" y="-390" as="sourcePoint"/><mxPoint x="-1430" y="-140" as="targetPoint"/><Array as="points"><mxPoint x="-380" y="-90"/><mxPoint x="-1430" y="-90"/></Array></mxGeometry></mxCell><mxCell id="67" value="30. **********" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-759.09" y="-80" width="90" height="30" as="geometry"/></mxCell><mxCell id="68" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1330" y="-160" as="sourcePoint"/><mxPoint x="-1110" y="-400" as="targetPoint"/><Array as="points"><mxPoint x="-1220" y="-160"/><mxPoint x="-1110" y="-160"/></Array></mxGeometry></mxCell><mxCell id="69" value="31. คืนค่า Session Token (หรือ set cookie)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1340" y="-160" width="240" height="30" as="geometry"/></mxCell><mxCell id="70" value="&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1250" y="-415" width="30" height="30" as="geometry"/></mxCell><mxCell id="71" value="32. ส่ง session token และข้อมูลผู้ใช้" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1350" y="-425" width="210" height="30" as="geometry"/></mxCell><mxCell id="72" value="33. [มี session อยู่แล้ว]&amp;nbsp;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ดำเนินการต่อกด้วย session ที่มีอยู่&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1480" y="-260" width="290" height="40" as="geometry"/></mxCell><mxCell id="73" value="34. 200 OK&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;(Signup succesful,&amp;nbsp;&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Set-Cookie header)&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1685" y="-425" width="190" height="40" as="geometry"/></mxCell><mxCell id="74" value="&lt;div&gt;2. แสดงตัวเลือกในการ Sign Up&lt;/div&gt;35. Redirect ไปยัง dashboard&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (ผ่าน client-side routing ของ Next.js)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-2070" y="-425" width="290" height="60" as="geometry"/></mxCell><mxCell id="75" value="1. clicEditProfileButton()&lt;div&gt;14. submitEditProfileForm(updatedData, currentPassword)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-363.17999999999984" y="-230" width="330" height="40" as="geometry"/></mxCell></root></mxGraphModel></diagram></mxfile>
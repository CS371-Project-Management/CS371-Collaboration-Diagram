<mxfile host="drawio-plugin" modified="2025-03-01T15:47:59.317Z" agent="5.0 (Windows NT 6.2; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5112.102 Safari/537.36" etag="_S8xkvKzPU5Wg8Yzgpwe" version="20.5.3" type="embed"><diagram id="23iRSUPoRavnBvh4doch" name="Page-1"><mxGraphModel dx="2707" dy="604" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1"><mxGeometry relative="1" as="geometry"><mxPoint x="-2110" y="1010" as="sourcePoint"/><mxPoint x="-1860" y="1010" as="targetPoint"/></mxGeometry></mxCell><mxCell id="3" value="User" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1"><mxGeometry x="-2150" y="970" width="35" height="70" as="geometry"/></mxCell><mxCell id="4" value=":Frontend" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="-1860" y="985" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="5" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-2100" y="995" as="sourcePoint"/><mxPoint x="-1880" y="995" as="targetPoint"/></mxGeometry></mxCell><mxCell id="6" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1890" y="1025" as="sourcePoint"/><mxPoint x="-2100" y="1025" as="targetPoint"/></mxGeometry></mxCell><mxCell id="7" value="&amp;nbsp;:Router" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="-1520" y="985" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1" target="7"><mxGeometry relative="1" as="geometry"><mxPoint x="-1729.09" y="1005" as="sourcePoint"/><mxPoint x="-1524.09" y="1005" as="targetPoint"/></mxGeometry></mxCell><mxCell id="9" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1704.09" y="990" as="sourcePoint"/><mxPoint x="-1544.09" y="990" as="targetPoint"/></mxGeometry></mxCell><mxCell id="10" value="&amp;nbsp;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="-1620" y="970" width="40" height="40" as="geometry"/></mxCell><mxCell id="11" value=":UserController&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="-1029.09" y="985" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1" target="11"><mxGeometry relative="1" as="geometry"><mxPoint x="-1389.09" y="1005" as="sourcePoint"/><mxPoint x="-1184.09" y="1005" as="targetPoint"/></mxGeometry></mxCell><mxCell id="13" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1364.09" y="990" as="sourcePoint"/><mxPoint x="-1050" y="990" as="targetPoint"/></mxGeometry></mxCell><mxCell id="14" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1050" y="1020" as="sourcePoint"/><mxPoint x="-1370" y="1020" as="targetPoint"/></mxGeometry></mxCell><mxCell id="15" value=":UserService&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="-569.09" y="985" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1" target="15"><mxGeometry relative="1" as="geometry"><mxPoint x="-898.18" y="1005" as="sourcePoint"/><mxPoint x="-693.18" y="1005" as="targetPoint"/></mxGeometry></mxCell><mxCell id="17" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-873.18" y="990" as="sourcePoint"/><mxPoint x="-579.09" y="990" as="targetPoint"/></mxGeometry></mxCell><mxCell id="18" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-579.09" y="1020" as="sourcePoint"/><mxPoint x="-879.09" y="1020" as="targetPoint"/></mxGeometry></mxCell><mxCell id="19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;startFill=0;" edge="1" parent="1" source="20" target="25"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="20" value=":UserRepository" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="-229.08999999999995" y="985" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1" target="20"><mxGeometry relative="1" as="geometry"><mxPoint x="-438.1799999999999" y="1005" as="sourcePoint"/><mxPoint x="-233.17999999999986" y="1005" as="targetPoint"/></mxGeometry></mxCell><mxCell id="22" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-413.1799999999999" y="990" as="sourcePoint"/><mxPoint x="-253.1799999999997" y="990" as="targetPoint"/></mxGeometry></mxCell><mxCell id="23" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-249.09" y="1020" as="sourcePoint"/><mxPoint x="-409.09" y="1020" as="targetPoint"/></mxGeometry></mxCell><mxCell id="24" value="2. GET /api/users/profile&lt;div&gt;15. POST /api/users/edit-profile {updateData, currentPassword}&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1810" y="945" width="360" height="40" as="geometry"/></mxCell><mxCell id="25" value="&amp;nbsp;:Database" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="310.91000000000014" y="985" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="26" value="Edit Profile" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" vertex="1" parent="1"><mxGeometry x="-1215" y="820" width="345" height="30" as="geometry"/></mxCell><mxCell id="27" value="1. clicEditProfileButton()&lt;div&gt;14. submitEditProfileForm(updateData, currentPassword)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-2150" y="930" width="330" height="40" as="geometry"/></mxCell><mxCell id="28" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1544.09" y="1020" as="sourcePoint"/><mxPoint x="-1704.09" y="1020" as="targetPoint"/></mxGeometry></mxCell><mxCell id="29" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-79.08999999999995" y="989.38" as="sourcePoint"/><mxPoint x="290.91" y="990" as="targetPoint"/></mxGeometry></mxCell><mxCell id="30" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="280.91" y="1020" as="sourcePoint"/><mxPoint x="-79.09" y="1020" as="targetPoint"/></mxGeometry></mxCell><mxCell id="31" value="&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1290" y="1035" width="30" height="30" as="geometry"/></mxCell><mxCell id="32" value="12. success(200, userRecord)&lt;div&gt;20. errorResponse&lt;/div&gt;&lt;div&gt;(400, &quot;ข้อมูลไม่ครบถ้วนหรือข้อมูบไม่ถูกต้อง&quot;)&lt;/div&gt;&lt;div&gt;&amp;nbsp;25. errorResponse(401, &quot;รหัสผ่านไม่ถูกต้อง&quot;)&lt;/div&gt;&lt;div&gt;32.&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;successResponse(200, &quot;แก้ไขบัญชีผู้ใช้สำเร็จ&quot;)&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1775" y="1020" width="290" height="90" as="geometry"/></mxCell><mxCell id="33" value="13. displayEditProfileForm(userRecord)&lt;div&gt;33. displayMessage(&quot;แก้ไขบัญชีผู้ใช้สำเร็จ&quot;)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-2110" y="1035" width="250" height="40" as="geometry"/></mxCell><mxCell id="34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1" source="35"><mxGeometry relative="1" as="geometry"><mxPoint x="-1455.91" y="1025" as="targetPoint"/></mxGeometry></mxCell><mxCell id="35" value="&amp;nbsp;:Middleware" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="-1520.91" y="1260" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="36" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1471" y="1050" as="sourcePoint"/><mxPoint x="-1470.91" y="1250" as="targetPoint"/></mxGeometry></mxCell><mxCell id="37" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1440.91" y="1250" as="sourcePoint"/><mxPoint x="-1440.91" y="1050" as="targetPoint"/></mxGeometry></mxCell><mxCell id="38" value="3. validateSession()&lt;div&gt;16. validateResquest()&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1605" y="1160" width="140" height="40" as="geometry"/></mxCell><mxCell id="39" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="11" target="11"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1029.09" y="960" as="sourcePoint"/><mxPoint x="-899.09" y="940" as="targetPoint"/><Array as="points"><mxPoint x="-995.35" y="950"/><mxPoint x="-995.09" y="940"/><mxPoint x="-929.09" y="940"/></Array></mxGeometry></mxCell><mxCell id="40" value="18. validateUpdate(Data )" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1043.63" y="895" width="160" height="30" as="geometry"/></mxCell><mxCell id="41" value="11. succesResponse(200, userRecord)&lt;div&gt;19. [invalidData(4.1a)] errorResponse(400, &quot;ข้อมูลไม่ครบถ้วนหรือข้อมูบไม่ถูกต้อง&quot;)&lt;/div&gt;&lt;div&gt;&amp;nbsp;24. errorResponse(401, &quot;รหัสผ่านไม่ถูกต้อง&quot;)&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;31&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;. successResponse(200, &quot;แก้ไขบัญชีผู้ใช้สำเร็จ&quot;)&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1440" y="1015" width="450" height="70" as="geometry"/></mxCell><mxCell id="42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;startFill=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="35"><mxGeometry relative="1" as="geometry"><mxPoint x="-960" y="1026" as="targetPoint"/><mxPoint x="-1284.79" y="1315" as="sourcePoint"/><Array as="points"><mxPoint x="-1350" y="1280"/><mxPoint x="-1350" y="1190"/><mxPoint x="-960" y="1190"/><mxPoint x="-960" y="1026"/></Array></mxGeometry></mxCell><mxCell id="43" value="4. getUserProfile(userID)&lt;div&gt;17. editUserProfile(updateData, currentPassword)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-1290" y="1130" width="290" height="40" as="geometry"/></mxCell><mxCell id="44" value="&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-743.1800000000001" y="950" width="30" height="30" as="geometry"/></mxCell><mxCell id="45" value="6. selectUserByID(userID )&lt;div&gt;26. [passwordCorrect]&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;updateUserProfile(userID, updateData)&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-444.09000000000003" y="930" width="230" height="60" as="geometry"/></mxCell><mxCell id="46" value="7. SELECT id, username, email, ... FROM users WHERE id=?&lt;div&gt;27. UPDATE users SET ... WEHER id=:userID 'แก้อะไรได้บ้าง'&amp;nbsp;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-49.09" y="950" width="350" height="40" as="geometry"/></mxCell><mxCell id="47" value="8. userRecord&amp;nbsp;&lt;div&gt;28. affectedRows&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="55.91" y="1025" width="120" height="40" as="geometry"/></mxCell><mxCell id="48" value="9. userRecord&lt;div&gt;29. success(updateUserRecord)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-429.09" y="1030" width="200" height="40" as="geometry"/></mxCell><mxCell id="49" value="10. userRecord&lt;div&gt;23. [passwordincorrect (8.1a)] returnError(&quot;รหัสผ่านไม่ถูกต้อง&quot;)&lt;/div&gt;&lt;div&gt;30. success(updateUserRecord)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-903.1800000000001" y="1020" width="350" height="60" as="geometry"/></mxCell><mxCell id="50" value="5. getUserProfile(userID)&lt;div&gt;21. [validData] editUserProfile(updateData, currentPassword)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-903.1800000000001" y="945" width="350" height="40" as="geometry"/></mxCell><mxCell id="51" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-1379.09" y="1266" as="sourcePoint"/><mxPoint x="-980" y="1035" as="targetPoint"/><Array as="points"><mxPoint x="-1359.09" y="1266"/><mxPoint x="-1359.09" y="1176"/><mxPoint x="-980" y="1180"/><mxPoint x="-980" y="1100"/></Array></mxGeometry></mxCell><mxCell id="52" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-537.0899999999999" y="985" as="sourcePoint"/><mxPoint x="-472.09" y="985" as="targetPoint"/><Array as="points"><mxPoint x="-536.44" y="950"/><mxPoint x="-536.1800000000001" y="940"/><mxPoint x="-470.18" y="940"/></Array></mxGeometry></mxCell><mxCell id="53" value="22. verifyCurrentPassword(userId, currentPassword)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="-648.1800000000001" y="900" width="300" height="30" as="geometry"/></mxCell></root></mxGraphModel></diagram></mxfile>
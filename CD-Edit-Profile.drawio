<mxfile host="drawio-plugin" modified="2025-03-01T15:50:40.076Z" agent="5.0 (Windows NT 6.2; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5112.102 Safari/537.36" etag="EXWJ0HaXNbNJY6fhQl2B" version="20.5.3" type="embed"><diagram id="23iRSUPoRavnBvh4doch" name="Page-1"><mxGraphModel dx="226" dy="604" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1"><mxGeometry relative="1" as="geometry"><mxPoint x="748.0900000000001" y="1050" as="sourcePoint"/><mxPoint x="998.0900000000001" y="1050" as="targetPoint"/></mxGeometry></mxCell><mxCell id="55" value="User" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1"><mxGeometry x="708.0900000000001" y="1010" width="35" height="70" as="geometry"/></mxCell><mxCell id="56" value=":Frontend" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="998.0900000000001" y="1025" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="57" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="758.0900000000001" y="1035" as="sourcePoint"/><mxPoint x="978.0900000000001" y="1035" as="targetPoint"/></mxGeometry></mxCell><mxCell id="58" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="968.0900000000001" y="1065" as="sourcePoint"/><mxPoint x="758.0900000000001" y="1065" as="targetPoint"/></mxGeometry></mxCell><mxCell id="59" value="&amp;nbsp;:Router" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="1338.09" y="1025" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1" target="59"><mxGeometry relative="1" as="geometry"><mxPoint x="1129.0000000000002" y="1045" as="sourcePoint"/><mxPoint x="1334.0000000000002" y="1045" as="targetPoint"/></mxGeometry></mxCell><mxCell id="61" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="1154.0000000000002" y="1030" as="sourcePoint"/><mxPoint x="1314.0000000000002" y="1030" as="targetPoint"/></mxGeometry></mxCell><mxCell id="62" value="&amp;nbsp;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="1238.09" y="1010" width="40" height="40" as="geometry"/></mxCell><mxCell id="63" value=":UserController&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="1829.0000000000002" y="1025" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1" target="63"><mxGeometry relative="1" as="geometry"><mxPoint x="1469.0000000000002" y="1045" as="sourcePoint"/><mxPoint x="1674.0000000000002" y="1045" as="targetPoint"/></mxGeometry></mxCell><mxCell id="65" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="1808.09" y="1060" as="sourcePoint"/><mxPoint x="1488.09" y="1060" as="targetPoint"/></mxGeometry></mxCell><mxCell id="66" value=":UserService&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="2289.0000000000005" y="1025" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1" target="66"><mxGeometry relative="1" as="geometry"><mxPoint x="1959.91" y="1045" as="sourcePoint"/><mxPoint x="2164.9100000000003" y="1045" as="targetPoint"/></mxGeometry></mxCell><mxCell id="68" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="1984.91" y="1030" as="sourcePoint"/><mxPoint x="2279.0000000000005" y="1030" as="targetPoint"/></mxGeometry></mxCell><mxCell id="69" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="2279.0000000000005" y="1060" as="sourcePoint"/><mxPoint x="1979" y="1060" as="targetPoint"/></mxGeometry></mxCell><mxCell id="70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;startFill=0;" edge="1" parent="1" source="71" target="76"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="71" value=":UserRepository" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="2629.0000000000005" y="1025" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1" target="71"><mxGeometry relative="1" as="geometry"><mxPoint x="2419.9100000000003" y="1045" as="sourcePoint"/><mxPoint x="2624.9100000000003" y="1045" as="targetPoint"/></mxGeometry></mxCell><mxCell id="73" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="2444.9100000000003" y="1030" as="sourcePoint"/><mxPoint x="2604.9100000000008" y="1030" as="targetPoint"/></mxGeometry></mxCell><mxCell id="74" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="2609.0000000000005" y="1060" as="sourcePoint"/><mxPoint x="2449.0000000000005" y="1060" as="targetPoint"/></mxGeometry></mxCell><mxCell id="75" value="2. GET /api/users/profile&lt;div&gt;15. POST /api/users/edit-profile {updatedData, currentPassword}&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="1043.0900000000001" y="985" width="370" height="40" as="geometry"/></mxCell><mxCell id="76" value="&amp;nbsp;:Database" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="3169.0000000000005" y="1025" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="77" value="Edit Profile" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" vertex="1" parent="1"><mxGeometry x="1771.82" y="860" width="345" height="30" as="geometry"/></mxCell><mxCell id="78" value="1. clicEditProfileButton()&lt;div&gt;14. submitEditProfileForm(updatedData, currentPassword)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="708.0900000000001" y="970" width="330" height="40" as="geometry"/></mxCell><mxCell id="79" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="1314.0000000000002" y="1060" as="sourcePoint"/><mxPoint x="1154.0000000000002" y="1060" as="targetPoint"/></mxGeometry></mxCell><mxCell id="80" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="2779.0000000000005" y="1029.38" as="sourcePoint"/><mxPoint x="3149.0000000000005" y="1030" as="targetPoint"/></mxGeometry></mxCell><mxCell id="81" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="3139.0000000000005" y="1060" as="sourcePoint"/><mxPoint x="2779.0000000000005" y="1060" as="targetPoint"/></mxGeometry></mxCell><mxCell id="82" value="&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="1568.09" y="1075" width="30" height="30" as="geometry"/></mxCell><mxCell id="83" value="12. success(200, userRecord)&lt;div&gt;20. errorResponse&lt;/div&gt;&lt;div&gt;(400, &quot;ข้อมูลไม่ครบถ้วนหรือข้อมูบไม่ถูกต้อง&quot;)&lt;/div&gt;&lt;div&gt;&amp;nbsp;25. errorResponse(401, &quot;รหัสผ่านไม่ถูกต้อง&quot;)&lt;/div&gt;&lt;div&gt;32.&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;successResponse(200, &quot;แก้ไขบัญชีผู้ใช้สำเร็จ&quot;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;37.&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;errorResponse(500, &quot;การแก้ไขบัญชีผู้ใช้ล้มเหลว&quot;)&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="1078.0900000000001" y="1065" width="300" height="100" as="geometry"/></mxCell><mxCell id="84" value="13. displayEditProfileForm(userRecord)&lt;div&gt;33. displayMessage(&quot;แก้ไขบัญชีผู้ใช้สำเร็จ&quot;)&lt;/div&gt;&lt;div&gt;38. displayMessage(&quot;เกิดข้อผิดพลาด ำม่สามารถแก้ไขบัญชีได้&quot;)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="703.0900000000001" y="1065" width="340" height="60" as="geometry"/></mxCell><mxCell id="85" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;endArrow=none;startFill=0;" edge="1" parent="1" source="86"><mxGeometry relative="1" as="geometry"><mxPoint x="1402.18" y="1065" as="targetPoint"/></mxGeometry></mxCell><mxCell id="86" value="&amp;nbsp;:Middleware" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="1337.18" y="1300" width="130.91" height="40" as="geometry"/></mxCell><mxCell id="87" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="1387.09" y="1090" as="sourcePoint"/><mxPoint x="1387.18" y="1290" as="targetPoint"/></mxGeometry></mxCell><mxCell id="88" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="1417.18" y="1290" as="sourcePoint"/><mxPoint x="1417.18" y="1090" as="targetPoint"/></mxGeometry></mxCell><mxCell id="89" value="3. validateSession()&lt;div&gt;16. validateResquest()&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="1253.09" y="1200" width="140" height="40" as="geometry"/></mxCell><mxCell id="90" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="63" target="63"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="1829.0000000000002" y="1000" as="sourcePoint"/><mxPoint x="1959" y="980" as="targetPoint"/><Array as="points"><mxPoint x="1862.74" y="990"/><mxPoint x="1863" y="980"/><mxPoint x="1929" y="980"/></Array></mxGeometry></mxCell><mxCell id="91" value="18. validateUpdatedData()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="1814.4599999999998" y="935" width="160" height="30" as="geometry"/></mxCell><mxCell id="92" value="11. succesResponse(200, userRecord)&lt;div&gt;19. [invalidData(4.1a)] errorResponse(400, &quot;ข้อมูลไม่ครบถ้วนหรือข้อมูบไม่ถูกต้อง&quot;)&lt;/div&gt;&lt;div&gt;&amp;nbsp;24. errorResponse(401, &quot;รหัสผ่านไม่ถูกต้อง&quot;)&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;31&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;. successResponse(200, &quot;แก้ไขบัญชีผู้ใช้สำเร็จ&quot;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;36&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;. errorResponse(500, &quot;การแก้ไขบัญชีผู้ใช้ล้มเหลว&quot;)&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="1418.09" y="1060" width="450" height="90" as="geometry"/></mxCell><mxCell id="93" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;startFill=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="86"><mxGeometry relative="1" as="geometry"><mxPoint x="1898.09" y="1066" as="targetPoint"/><mxPoint x="1573.3" y="1355" as="sourcePoint"/><Array as="points"><mxPoint x="1508.09" y="1320"/><mxPoint x="1508.09" y="1230"/><mxPoint x="1898.09" y="1230"/><mxPoint x="1898.09" y="1066"/></Array></mxGeometry></mxCell><mxCell id="94" value="4. getUserProfile(userID)&lt;div&gt;17. editUserProfile(updatedData, currentPassword)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="1563.09" y="1170" width="300" height="40" as="geometry"/></mxCell><mxCell id="95" value="&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="2114.9100000000003" y="990" width="30" height="30" as="geometry"/></mxCell><mxCell id="96" value="6. selectUserByID(userID )&lt;div&gt;26. [passwordCorrect]&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;updateUserProfile(userID, updateData)&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="2414.0000000000005" y="970" width="230" height="60" as="geometry"/></mxCell><mxCell id="97" value="7. SELECT id, username, email, ... FROM users WHERE id=?&lt;div&gt;27. UPDATE users SET ... WEHER id=:userID 'แก้อะไรได้บ้าง'&amp;nbsp;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="2809.0000000000005" y="990" width="350" height="40" as="geometry"/></mxCell><mxCell id="98" value="8. userRecord&amp;nbsp;&lt;div&gt;28. affectedRows&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="2914.0000000000005" y="1065" width="120" height="40" as="geometry"/></mxCell><mxCell id="99" value="9. userRecord&lt;div&gt;29. [updateSuccess (11a.1)] success(updateUserRecord)&lt;/div&gt;&lt;div&gt;34. [updateFailed (11b.1)] failure&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="2364.0000000000005" y="1060" width="330" height="60" as="geometry"/></mxCell><mxCell id="100" value="10. userRecord&lt;div&gt;23. [passwordincorrect (8.1a)] returnError(&quot;รหัสผ่านไม่ถูกต้อง&quot;)&lt;/div&gt;&lt;div&gt;30. successResponse(200, &quot;แก้ไขบัญชีผู้ใช้สำเร็จ&quot;)&lt;/div&gt;&lt;div&gt;35. returnError(&quot;การแก้ไขบัญชีผู้ใช้ล้มเหลว&quot;)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="1954.91" y="1060" width="350" height="70" as="geometry"/></mxCell><mxCell id="101" value="5. getUserProfile(userID)&lt;div&gt;21. [validData] editUserProfile(updateData, currentPassword)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="1954.91" y="985" width="350" height="40" as="geometry"/></mxCell><mxCell id="102" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="1479.0000000000002" y="1306" as="sourcePoint"/><mxPoint x="1878.09" y="1075" as="targetPoint"/><Array as="points"><mxPoint x="1499.0000000000002" y="1306"/><mxPoint x="1499.0000000000002" y="1216"/><mxPoint x="1878.09" y="1220"/><mxPoint x="1878.09" y="1140"/></Array></mxGeometry></mxCell><mxCell id="103" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="2321.0000000000005" y="1025" as="sourcePoint"/><mxPoint x="2386.0000000000005" y="1025" as="targetPoint"/><Array as="points"><mxPoint x="2321.65" y="990"/><mxPoint x="2321.9100000000003" y="980"/><mxPoint x="2387.9100000000003" y="980"/></Array></mxGeometry></mxCell><mxCell id="104" value="22. verifyCurrentPassword(userId, currentPassword)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="2209.9100000000003" y="940" width="300" height="30" as="geometry"/></mxCell></root></mxGraphModel></diagram></mxfile>